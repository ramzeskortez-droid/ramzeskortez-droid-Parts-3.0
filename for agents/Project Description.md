
# Описание проекта: AutoParts Marketplace

## 1. Обзор
AutoParts Marketplace — это SPA (Single Page Application) для автоматизации B2B/B2C цепочки продажи автозапчастей. Система устраняет хаос в переписках мессенджеров, структурируя процесс от запроса клиента до утверждения коммерческого предложения (КП) и финального подтверждения покупки.

## 2. Техническая Архитектура
Проект построен по архитектуре **Serverless / BaaS (Backend as a Service)**, где роль бэкенда и базы данных выполняет экосистема Google.

### Frontend
*   **Core:** React 19, TypeScript.
*   **Styling:** Tailwind CSS, Lucide React.
*   **UX Pattern:** Optimistic UI + Toast Notifications.

### Backend & Database
*   **API:** Google Apps Script (GAS).
*   **Database:** Google Sheets.
    *   **Гибридная модель:** Мета-данные в ячейках, сложные структуры в JSON (Колонка H).
    *   **Целостность данных:** Таблица `MarketData` расширена до **13 колонок (A-M)**. 
    *   **Колонка M (readyToBuy):** Критически важное поле, которое переводит заказ в статус "Подтвержден клиентом". Значение 'Y' инициирует бизнес-процесс завершения сделки.
*   **Notifications:** Telegram Bot API. Уведомляет менеджеров о новых заказах и готовности клиента к покупке (со списком выбранных позиций и итоговой ценой).

## 3. Ключевые Сущности

### 3.5. Purchase Confirmation (Подтверждение покупки)
*   **Механизм:** Когда клиент нажимает "Готов купить", фронтенд вызывает экшен `confirm_purchase`.
*   **Бэкенд:** Записывает 'Y' в колонку M (индекс 12) для строки заказа. Это фиксирует юридическое или коммерческое согласие клиента в базе данных.
*   **Интеграция:** Автоматически формируется отчет в Telegram для админов, суммирующий все позиции со статусом `ЛИДЕР`.
